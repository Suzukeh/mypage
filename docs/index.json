[{"content":"これは自分のGitHub Wikiから持ってきただけの記事です\n誰でもカンタン！ クソコラ拡張機能の作り方　 【Chromeウェブストアで公開されました！ 12/17追記】 本記事はUEC Advent Calendar 2020の9日目の記事です。\n前日はニー子くんのカクテルの記事です．まだ18歳の人もいるんですよ！！！\n明日はCra2yPierr0tさんです．予告がすでに強そう． 追記：こちらです．自宅で簡単☆計算加速装置\n誰？ 20生のSuzukeです．ネタっぽいこと以上はできない程度の技術と，ネタにしないと気がすまない残念さを足し合わせたような人間です．\nところで，予定と大きく異なってますね．ちょっとまだ完成してないので別の機会にということでお願いします．\nちなみに結論はこれです．\nイントロ Chrome拡張機能とは そもそも拡張機能ってなんじゃい！という方のためにサクッと説明すると，\n ブラウザに新機能を追加し、ブラウザ環境をパーソナライズできる簡易プログラムです。\n だそうです．「Chrome 拡張機能」で検索したときのChromeウェブストアのディスクリプションに書いてありました．\nほんとうにつくれるの？ コンリテを履修した任意のあなたなら作れます．拡張機能に必要な最低限の内容は\n manifest.jsonとかいう中身はただのテキストベースの設定ファイル chaos.jsみたいな，適当な動作をするJavaScriptのファイル  こんなもんです．まあ実質マニフェストなんてCSSみたいなもんですし(ホントか？)，JavaScriptはコンリテでちょっとやりましたよね．\nもちろんコンリテ履修しただけでは全てを書くことはできません．人生で\u0026lt;script\u0026gt;って書いたの3回ぐらいって人は，いわゆるコピペプログラミングってやつになるでしょう．\n私もそうなりました．\nあなたもそうなりましょう．\nクソコラ拡張機能の作り方 ネタを用意する ある程度鮮度はあったほうがいいかと思いますが，それはこの際置いときましょう．未だに5000兆円コンバーター入れてる私みたいな人間もいますから．とにかくネタを用意してください．\n今回私が用意したのはNIKUECです．MIKUEC2020(ファンメイドミクライブ)においてMCのネタとして登場したパワーワード，それがNIKUECです．\nみく ≒ にく = 焼き肉　！！！MCで焼き肉やるか！！！\nということで，ここからは今回私が制作した「NIKUECコンバーター」を例にとって話していきます．\n機能を考える なにはともあれ，MIKUECのページを眺めてみましょう．\nほうほう．\nこれをNIKUECでイジるにはどうするか，と考えるわけです．先程言及した5000兆円コンバーターですが，これはページの中の「5000兆円」などをいい感じに例のフォントの画像で置き換えてくれる素敵な拡張機能です．これを参考にすれば答えは自ずと見えてきます．\nつまり，ページの内容を\n MIKUEC → NIKUEC ライブ　→ 焼き肉  と置換するわけです．画像のもとの文を見てください．次に，置換した結果を想像しながら読んでみてください．\nめっちゃ面白いですね(圧 Tips: 文字数は揃えたほうが良いでしょう．\n実装の仕方を考える これを実装することを考えていきましょう．まあ置換なんて簡単にかけますよね．私はできません．はい，ググりましょう．\nこんなアホみたいな調べ方でも1ページ目に求める答えが出てきます．「2. 実践編～」ってやつです．このサイトによると\n このプログラムを理解するにはいくつかのことを学ぶ必要があります。\n 正規表現による文字列の操作 HTML の操作 (Document Object Model) 関数の再帰的呼び出し   とのことです．まあ作りたいだけなので，サンプルを脳死でコピーしてください．\n改変する部分は当然「正規表現による文字列の操作」です．\nc.textContent = c.textContent.replace(/です。/g, \u0026quot;でござるよ。\u0026quot;);\nがサンプルにおける置換を担う部分であることは容易にわかります．正規表現もコンリテのEmacsのあたりでやっているはずです．しかしこのサイトは超親切で，\n 2種類以上の書き換えを行う場合には \u0026quot;ビールもワインも大好きです\u0026quot;.replace(/ビール|麦酒/, \u0026quot;🍺\u0026quot;).replace(/ワイン/, \u0026quot;🍷\u0026quot;) のように数珠つなぎに書くことができます。\n と解説してくれています．恐ろしくわかりやすい説明．\nさて，作りたいのは\n MIKUEC → NIKUEC ライブ　→ 焼き肉  という置換でした．つまり，このようにサンプルを改変すればよいわけです．\nc.textContent = c.textContent.replace(/MIKUEC/g, \u0026quot;NIKUEC\u0026quot;).replace(/ライブ/g, \u0026quot;焼き肉\u0026quot;);\nこのJavaScriptは保存しておきましょう．後のために適当なディレクトリを作っておくと楽です．\nNIKUEConverter | nikueconverter.js │ 拡張機能にする JavaScriptで実際に置換する部分はできました．あとはこれをchromeくんに 「お前が見ているのは拡張機能だ」 と教えてやる必要があるわけです．それがmanifest.jsonの役割です．これはさすがにコンリテではやってないので，とりまググりましょう．\nいや待ってください．よく見たらさっきのサイトにありました．完璧だなここ．\nこれはフォーマットだけ使う感じで，各所を変更していきます．どの項目が何を示しているかというのは，ほとんど英単語どおりです．\n{ \u0026#34;manifest_version\u0026#34;: 2, \u0026#34;description\u0026#34; : \u0026#34;Converting the story about MIKUEC into about NIKUEC.\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;NIKUECコンバーター\u0026#34;, \u0026#34;short_name\u0026#34;: \u0026#34;NIKUEConv\u0026#34;, \u0026#34;version\u0026#34;: \u0026#34;0.2.9\u0026#34;, \u0026#34;icons\u0026#34;: { \u0026#34;16\u0026#34;: \u0026#34;icon16.png\u0026#34;, \u0026#34;48\u0026#34;: \u0026#34;icon48.png\u0026#34;, \u0026#34;128\u0026#34;: \u0026#34;icon128.png\u0026#34; }, \u0026#34;permissions\u0026#34;: [ \u0026#34;activeTab\u0026#34; ], \u0026#34;content_scripts\u0026#34;: [ { \u0026#34;matches\u0026#34;: [\u0026#34;\u0026lt;all_urls\u0026gt;\u0026#34;], \u0026#34;js\u0026#34;: [\u0026#34;nikueconverter.js\u0026#34;] } ] } ただし，\u0026quot;manifest_version\u0026quot;: 2,だけは変更しないでください．このファイルの更新とか言う意味ではなく，マニフェストのフォーマット自体のバージョンを示しています．バージョンが2じゃないとインストール時に弾かれます．\nこれも先程のディレクトリに保存しときましょう．\nNIKUEConverter | nikueconverter.js | manifest.json アイコン ちらっとmanifest.jsonに出てきましたが，アイコン画像は\n  128*128 px\n  48*48 px\n  16*16 px\n  を用意しました．アイコンは用意しなくても動作に支障はありません．保存先は同じディレクトリにしました．\nNIKUEConverter | nikueconverter.js | manifest.json | icon128.png | icon48.png | icon16.png ちなみに画像はこれです．\nインストールする 12/17追記　Chromeウェブストアで公開されました．より手軽に試せます． NIKUECコンバーター\nさあようやく念願のインストールです．\n  Chrome拡張機能のページ(chrome://extensions/)を開く\n  右上のデベロッパーモードのトグルをオンにする\n  左上の「パッケージ化されていない拡張機能を読み込む」からNIKUEConverterフォルダを選択して読み込む  遊ぶ インストールできたので，\u0026ldquo;MIKUEC\u0026quot;等と書いてあるサイト(まさにMIKUECとか)を開くと冒頭の画像のようになります．ちなみに比較するとこんな感じです．\nありえん面白さを体感したい人向けのリンク NIKUECコンバーターの完成品はこちらです．\nNIKUEC-Converter (GitHub)\nまた，こちらの方々のめっちゃありがたい感想が唐突にシュールになるので，がっかり感を得たい人には特におすすめです．\n  ボカロリスナーは今すぐMIKUECを観ろ！！\n  ファンメイドミクライブ「MIKUEC 2020」を見た\n  終わりに 現在Chromeウェブストアの審査待ちです．いずれはストアに並び，もっと手軽に試せるようになると思います．\n審査通ってNIKUECコンバーターはChromeウェブストアから入れられるようになりました．\n！！！！！！！！！！！！！うおおおおおお！！！！！！！！！！！！！\n","permalink":"https://suzukeh.github.io/mypage/posts/reprints/nikuec-converter/","summary":"これは自分のGitHub Wikiから持ってきただけの記事です 誰でもカンタン！ クソコラ拡張機能の作り方 【Chromeウェブストアで公開されまし","title":"NIKUECコンバーター"},{"content":"できました！ わーい Y.wav\nよかったね ","permalink":"https://suzukeh.github.io/mypage/posts/my-first-post/","summary":"できました！ わーい Y.wav よかったね","title":"test お試し"},{"content":"自己紹介 調布にある某大学のⅢ類物理工学プログラムの大学生。\nサークルはVLLと工研に所属しています。\nなんと実家も調布なので、調布市から出ない生活を送っています。\n高校のときは、何人かでスピーカーやピザ窯やCNC加工機なんかを作ったりして遊んでました。\n","permalink":"https://suzukeh.github.io/mypage/about/","summary":"自己紹介 調布にある某大学のⅢ類物理工学プログラムの大学生。 サークルはVLLと工研に所属しています。 なんと実家も調布なので、調布市から出ない生","title":"About"}]